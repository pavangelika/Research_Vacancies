Стратегия тестирования

Цель: Обеспечить стабильность, соответствие спецификации, производительность и безопасность эндпоинта.
Принципы:
Автоматизация критически важных сценариев (contract, smoke, regression).
Ручное тестирование нового функционала.
Интеграция в CI/CD для регрессионного и контрактного тестирования.
Документация: Опираться на официальную спецификацию HH.

Тест-план

0. Contract Testing (Контрактное тестирование)
Цель: Проверка соответствия API спецификации.
Когда запускать: На каждом этапе разработки, в CI/CD.

Test-suite:
     Валидация формата ответа (JSON)
     Валидация соответсвия структуры ответа
     Проверка обязательных полей required_fields
     Проверка типов данных
     Проверяемые ручки:
0.1. Ручка: GET /vacancies
0.2. Ручка: GET /vacancies/{id}

1. Smoke Testing (Дымовое тестирование)
Цель: Быстрая проверка основных функций после деплоя, чтобы убедиться, что API "живой".
Когда запускать: После каждого деплоя в staging/production.
Интегрировать в pipeline: если smoke-тесты падают, блокировать релиз.

Test Case
1.1. Получение списка вакансий
     Ручка: GET /vacancies   +
     ОР: 200 OK
     ответ не пустой
1.2. Получение списка вакансий с параметрами фильтрации +
     Ручка GET /vacancies?host=hh.ru&per_page=100&page=0&period=1&order_by=salary_desc&professional_role=124&work_format=REMOTE
     ОР: 200 OK
     ответ не пустой
1.3. Просмотр первой вакансии из списка вакансий с параметрами фильтрации +
     Ручка GET /vacancies/{id} +
     взять первый id из списка и подставить в запрос /vacancies/{id}
     статус 200

3. Regression Testing (Регрессионное тестирование)
Цель: Убедиться, что новые изменения не сломали существующий функционал.
Когда запускать: Перед каждым релизом, после крупных изменений.

3.1. Позитивные тесты
3.2. Негативные тесты
3.2.2. проверка кодов ошибок
3.2.3. проверка граничных значений

3.1. Ручка: GET /vacancies?order_by=salary_desc +
     ОР: 200 OK,
     вакансии отсортированы в порядке убывания,
     вакансии без указания зп последние в списке
1.3. Ручка GET /vacancies?period=1
     ОР: 200 OK,
     выведены вакансии за текущий день
     не отображаются вакансии старше текущего дня
1.4. Ручка GET /vacancies?professional_role=124
     ОР: 200 OK,
     все обязательные поля присутсвуют: required_fields = ["items", "found", "page", "pages", "per_page"],
     выведены вакансии для указанной профессиональной роли
     вакансии для других профессиональных ролей не отображаются
1.5. Ручка GET /vacancies?work_format=REMOTE      +
     ОР: 200 OK,
     все обязательные поля присутсвуют: required_fields = ["items", "found", "page", "pages", "per_page"],
     выведены вакансии с удаленным форматом работы
     вакансии с другими форматами работы не отображаются
1.6. Ручка GET /vacancies?per_page=1
     ОР: 200 OK,
     все обязательные поля присутсвуют: required_fields = ["items", "found", "page", "pages", "per_page"],
     выведена одна вакансия
     другие вакансии не отображаются
1.7. Ручка GET /vacancies?host=hh.ru
     ОР: 200 OK,
     все обязательные поля присутсвуют: required_fields = ["items", "found", "page", "pages", "per_page"],
     выведены вакансии для указанного host
     вакансии с другими host не отображаются
1.8. Ручка GET /vacancies?page=3
     Ручка GET /vacancies?page=2
     ОР: 200 OK,
     все обязательные поля присутсвуют: required_fields = ["items", "found", "page", "pages", "per_page"],
     выведена страница 2,
     выведена страница 3,
     первые вакансии страницы разные

7. Functional Testing (Функциональное тестирование)
Цель: Проверка всех параметров по документации.
Когда запускать: Перед релизом.

проверка professional_role
проверка order_by
проверка work_format


[Docker-образ с тестами и Allure]
         |
         v
[CI Runner (GitLab/Jenkins)]
         |
         +-- запуск по расписанию (cron)
         |
         v
[Контейнер: pytest + Allure]
         |
         +-- сохраняет allure-results
         |
         v
[Генерация отчёта Allure с историей]
         |
         v
[Публикация статического отчёта (Nginx/S3/GitHub Pages)]